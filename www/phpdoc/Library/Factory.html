<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="robots" content="index, follow, all" />
        <title>Library\Factory | WebDocBook</title>
                    <link rel="stylesheet" type="text/css" href="../stylesheet.css">
                            </head>
        <body id="class">
            <div class="header">
        <ul>
            <li><a href="../classes.html">Classes</a></li>
                            <li><a href="../namespaces.html">Namespaces</a></li>
                        <li><a href="../interfaces.html">Interfaces</a></li>
            <li><a href="../traits.html">Traits</a></li>
            <li><a href="../doc-index.html">Index</a></li>
            
        </ul>

        <div id="title">WebDocBook</div>

            <div class="type">Class</div>
    <h1><a href="../Library.html">Library</a>\Factory</h1>
    </div>
        <div class="content">
                <p>    class
    <strong>Factory</strong>        extends <a href="../Patterns/Abstracts/AbstractStaticCreator.html"><abbr title="Patterns\Abstracts\AbstractStaticCreator">AbstractStaticCreator</abbr></a>        implements
        <a href="../Library/FactoryInterface.html"><abbr title="Library\FactoryInterface">FactoryInterface</abbr></a></p>

            <div class="description">
            <p>Factory will try to create an object following user rules and passing it arguments</p>
            <p><h2>Usage</h2>

<pre><code>$factory = \Library\Factory::create()
    // all methods are optional
    -&gt;factoryName('A Name To Identify Error Message')
    -&gt;mustImplement('RequiredInterface')
    -&gt;mustImplementAll(array('RequiredInterface1', 'RequiredInterface2'))
    -&gt;mustExtend('RequiredInheritance')
    -&gt;mustImplementOrExtend(array('RequiredInheritance', 'OR', 'RequiredInterface'))
    -&gt;defaultNamespace('\Possible\Namespace')
    -&gt;mandatoryNamespace('\Required\Namespace')
    -&gt;classNameMask(array('%s', '%s_Suffix'))
    -&gt;callMethod('load')
    ;
</code></pre>

<p>You can also define all options as an array to the creator:</p>

<pre><code>$factory = \Library\Factory::create(array(
    // all options are optional
    'factory_name' =&gt; 'A Name To Identify Error Message',
    'must_implement' =&gt; 'RequiredInterface',
    'must_implement_all' =&gt; array('RequiredInterface1', 'RequiredInterface2'),
    'must_extend' =&gt; 'RequiredInheritance',
    'must_implement_or_extend' =&gt; array('RequiredInheritance', 'OR', 'RequiredInterface'),
    'default_namespace' =&gt; '\Possible\Namespace',
    'mandatory_namespace' =&gt; '\Required\Namespace',
    'class_name_mask' =&gt; array('%s', '%s_Suffix'),
    'call_method' =&gt; 'load',
));
</code></pre>

<p>Then, to try to build the object:</p>

<pre><code>$object = $factory-&gt;build($name, $params);
</code></pre>

<p>Errors are thrown by default. You can avoid this using the <code>GRACEFULLY_FAILURE</code> constant flag.
All error messages are loaded in the <code>$logs</code> last parameter of the <code>build()</code> and
<code>findBuilder()</code> methods.</p>

<h2>Method parameters</h2>

<p>When the object creation method is called, the parameters passed to the <code>Factory::build()</code>
method are re-organized before to pass them to the method. This way, you can define the
parameters as an array using explicit indexes corresponding to the parameters names in
method declaration without working about their order.</p>

<h2>Specific method to build the instance</h2>

<p>In the case of a specific <code>$call_method</code> (not the classic <code>__construct</code>), the builder will
try to first construct the object except if the call method is static. If it is not static,
any existing constructor will be first called without parameters and then the defined
call method passing it the parameters.</p>
        </div>
    
    
    
            <h2>Methods</h2>

            <table>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_init">init</a>(array $options = null)
                    <p>Initialize the factory with an array of options</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method___construct">__construct</a>()
                    <p>Magic default constructor for non-static use</p>
                </td>
                <td><small>from&nbsp;<a href="../Patterns/Abstracts/AbstractStaticCreator.html#method___construct"><abbr title="Patterns\Abstracts\AbstractStaticCreator">AbstractStaticCreator</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type">
                    static&nbsp;<a href="../Patterns/Abstracts/AbstractStaticCreator.html"><abbr title="Patterns\Abstracts\AbstractStaticCreator">AbstractStaticCreator</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_create">create</a>()
                    <p>Static creation of the object</p>
                </td>
                <td><small>from&nbsp;<a href="../Patterns/Abstracts/AbstractStaticCreator.html#method_create"><abbr title="Patterns\Abstracts\AbstractStaticCreator">AbstractStaticCreator</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../Library/Factory.html"><abbr title="Library\Factory">Factory</abbr></a>
                </td>
                <td class="last">
                    <a href="#method___call">__call</a>(string $name, array $arguments)
                    <p>Magic method to allow usage of <code>$factory-&gt;propertyInCamelCase()</code> for each class property</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../Library/Factory.html"><abbr title="Library\Factory">Factory</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_setOptions">setOptions</a>(array $options)
                    <p>Set the object options like <code>property =&gt; value</code></p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    object
                </td>
                <td class="last">
                    <a href="#method_build">build</a>(string $name, array $parameters = null, int $flag = self::ERROR_ON_FAILURE, array $logs = array())
                    <p>Build the object instance following current factory settings</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    null|string
                </td>
                <td class="last">
                    <a href="#method_findBuilder">findBuilder</a>(string $name, int $flag = self::ERROR_ON_FAILURE, array $logs = array())
                    <p>Find the object builder class following current factory settings</p>
                </td>
                <td></td>
            </tr>
            </table>


        <h2>Details</h2>

                        <h3 id="method_init">
        <div class="location">at line 202</div>
        <code>            public            void
    <strong>init</strong>(array $options = null)</code>
    </h3>
    <div class="details">
        <p>Initialize the factory with an array of options</p>
        <p>The options must be defined like <code>property =&gt; value</code></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>array</td>
                <td>$options</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method___construct">
        <div class="location">in <a href="../Patterns/Abstracts/AbstractStaticCreator.html#method___construct"><abbr title="Patterns\Abstracts\AbstractStaticCreator">AbstractStaticCreator</abbr></a> at line 40</div>
        <code>            public            
    <strong>__construct</strong>()</code>
    </h3>
    <div class="details">
        <p>Magic default constructor for non-static use</p>
        <p>This may use the same arguments as the <code>init()</code> method.</p>
        <div class="tags">
            
            
            
                    </div>
    </div>

                <h3 id="method_create">
        <div class="location">in <a href="../Patterns/Abstracts/AbstractStaticCreator.html#method_create"><abbr title="Patterns\Abstracts\AbstractStaticCreator">AbstractStaticCreator</abbr></a> at line 52</div>
        <code>        static    public            <a href="../Patterns/Abstracts/AbstractStaticCreator.html"><abbr title="Patterns\Abstracts\AbstractStaticCreator">AbstractStaticCreator</abbr></a>
    <strong>create</strong>()</code>
    </h3>
    <div class="details">
        <p>Static creation of the object</p>
        <p>This may use the same arguments as the <code>init()</code> method.</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../Patterns/Abstracts/AbstractStaticCreator.html"><abbr title="Patterns\Abstracts\AbstractStaticCreator">AbstractStaticCreator</abbr></a></td>
            <td>Must return a new instance of the object created with function arguments</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method___call">
        <div class="location">at line 216</div>
        <code>            public            <a href="../Library/Factory.html"><abbr title="Library\Factory">Factory</abbr></a>
    <strong>__call</strong>(string $name, array $arguments)</code>
    </h3>
    <div class="details">
        <p>Magic method to allow usage of <code>$factory-&gt;propertyInCamelCase()</code> for each class property</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$name</td>
                <td>
</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$arguments</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../Library/Factory.html"><abbr title="Library\Factory">Factory</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_setOptions">
        <div class="location">at line 236</div>
        <code>            public            <a href="../Library/Factory.html"><abbr title="Library\Factory">Factory</abbr></a>
    <strong>setOptions</strong>(array $options)</code>
    </h3>
    <div class="details">
        <p>Set the object options like <code>property =&gt; value</code></p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>array</td>
                <td>$options</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../Library/Factory.html"><abbr title="Library\Factory">Factory</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_build">
        <div class="location">at line 261</div>
        <code>            public            object
    <strong>build</strong>(string $name, array $parameters = null, int $flag = self::ERROR_ON_FAILURE, array $logs = array())</code>
    </h3>
    <div class="details">
        <p>Build the object instance following current factory settings</p>
        <p>Errors are thrown by default but can be "gracefully" skipped using the flag <code>GRACEFULLY_FAILURE</code>.
In all cases, error messages are loaded in final parameter <code>$logs</code> passed by reference.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$name</td>
                <td>
</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$parameters</td>
                <td>
</td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$flag</td>
                <td>One of the class constants flags</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$logs</td>
                <td>Passed by reference</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>object</td>
            <td>
</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="http://php.net/RuntimeException"><abbr title="RuntimeException">RuntimeException</abbr></a></td>
                <td>if the class is not found</td>
            </tr>
                    <tr>
                <td><a href="http://php.net/RuntimeException"><abbr title="RuntimeException">RuntimeException</abbr></a></td>
                <td>if the class doesn't implement or extend some required dependencies</td>
            </tr>
                    <tr>
                <td><a href="http://php.net/RuntimeException"><abbr title="RuntimeException">RuntimeException</abbr></a></td>
                <td>if the class method for construction is not callable</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_findBuilder">
        <div class="location">at line 350</div>
        <code>            public            null|string
    <strong>findBuilder</strong>(string $name, int $flag = self::ERROR_ON_FAILURE, array $logs = array())</code>
    </h3>
    <div class="details">
        <p>Find the object builder class following current factory settings</p>
        <p>Errors are thrown by default but can be "gracefully" skipped using the flag <code>GRACEFULLY_FAILURE</code>.
In all cases, error messages are loaded in final parameter <code>$logs</code> passed by reference.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$name</td>
                <td>
</td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$flag</td>
                <td>One of the class constants flags</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$logs</td>
                <td>Passed by reference</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>null|string</td>
            <td>
</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="http://php.net/RuntimeException"><abbr title="RuntimeException">RuntimeException</abbr></a></td>
                <td>if the class is not found</td>
            </tr>
                    <tr>
                <td><a href="http://php.net/RuntimeException"><abbr title="RuntimeException">RuntimeException</abbr></a></td>
                <td>if the class doesn't implement or extend some required dependencies</td>
            </tr>
                    <tr>
                <td><a href="http://php.net/RuntimeException"><abbr title="RuntimeException">RuntimeException</abbr></a></td>
                <td>if the class method for construction is not callable</td>
            </tr>
            </table>

            
                    </div>
    </div>

    
            </div>
            <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/" target="_top">Sami, the API Documentation Generator</a>.
    </div>
    </body>
</html>
